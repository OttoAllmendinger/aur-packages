# Maintainer: Otto Allmendinger <otto.allmendinger@googlemail.com>
pkgname=java-berkeleydb
pkgver=4.8.24
pkgrel=2
pkgdesc="Java bindings for the Berkeley DB embedded database system"
arch=(i686 x86_64)
license=('custom')
url="http://www.oracle.com/technology/software/products/berkeley-db/index.html"
depends=('java-environment' 'db')
source=(http://download-uk.oracle.com/berkeley-db/db-$pkgver.tar.gz)
md5sums=('147afdecf438ff99ade105a5272db158')

build() {
  cd ${srcdir}/db-${pkgver}/build_unix
  ../dist/configure --prefix=/usr --enable-compat185 \
    --enable-shared --enable-static --enable-java
  make LIBSO_LIBS=-lpthread || exit 1

  install -Dm644 db.jar ${pkgdir}/usr/share/java/berkeleydb/berkeleydb.jar
  install -Dm644 libdb_java-4.8.la ${pkgdir}/usr/lib/libdb_java-4.8.la
}
